<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
	<HEAD>
		<TITLE></TITLE>
		<META NAME="Generator" CONTENT="pdf_to_html">
	</HEAD>
<BODY
	BGCOLOR="#FFFFFF"
	TEXT="#000000"
	LINK="#0000FF"
	VLINK="#808000"
	ALINK="#FF00FF"
>
<H1><FONT FACE="Verdana, Arial" COLOR="#0050B2">NAME

</FONT></H1>
<P><FONT FACE="Verdana, Arial" SIZE="3">PDF::API2::TTF::Cmap - Character map table

</FONT></P>
<H1><FONT FACE="Verdana, Arial" COLOR="#0050B2">DESCRIPTION

</FONT></H1>
<P><FONT FACE="Verdana, Arial" SIZE="3">Looks after the character map. For ease of use, the actual cmap is held in
a hash against codepoint. Thus for a given table:

</FONT></P>
<TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0" BORDER="0"><TR><TD BGCOLOR="#DDDDDD"><PRE><FONT SIZE="2">
    $gid = $font->{'cmap'}{'Tables'}[0]{'val'}{$code};

</FONT></PRE></TD></TR></TABLE>
<P><FONT FACE="Verdana, Arial" SIZE="3">Note that <CODE>$code</CODE> should be a true value (0x1234) rather than a string representation.

</FONT></P>
<H1><FONT FACE="Verdana, Arial" COLOR="#0050B2">INSTANCE VARIABLES

</FONT></H1>
<P><FONT FACE="Verdana, Arial" SIZE="3">The instance variables listed here are not preceeded by a space due to their
emulating structural information in the font.

</FONT></P>
<TABLE CELLSPACING="0" CELLPADDING="0" BORDER="0"><TR><TD>
</TD></TR><TR><TD> &nbsp; &nbsp; &nbsp; &nbsp; </TD></TR><TR><TD COLSPAN="2"><FONT FACE="Verdana, Arial" COLOR="#B25000" SIZE="3"><B>Num

</B></FONT></TD></TR><TR><TD>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>
<P><FONT FACE="Verdana, Arial" SIZE="3">Number of subtables in this table

</FONT></P>
</TD></TR><TR><TD> &nbsp; &nbsp; &nbsp; &nbsp; </TD></TR><TR><TD COLSPAN="2"><FONT FACE="Verdana, Arial" COLOR="#B25000" SIZE="3"><B>Tables

</B></FONT></TD></TR><TR><TD>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>
<P><FONT FACE="Verdana, Arial" SIZE="3">An array of subtables ([0..Num-1])

</FONT></P>
</TD></TR></TABLE>
<P><FONT FACE="Verdana, Arial" SIZE="3">Each subtables also has its own instance variables which are, again, not
preceeded by a space.

</FONT></P>
<TABLE CELLSPACING="0" CELLPADDING="0" BORDER="0"><TR><TD>
</TD></TR><TR><TD> &nbsp; &nbsp; &nbsp; &nbsp; </TD></TR><TR><TD COLSPAN="2"><FONT FACE="Verdana, Arial" COLOR="#B25000" SIZE="3"><B>Platform

</B></FONT></TD></TR><TR><TD>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>
<P><FONT FACE="Verdana, Arial" SIZE="3">The platform number for this subtable

</FONT></P>
</TD></TR><TR><TD> &nbsp; &nbsp; &nbsp; &nbsp; </TD></TR><TR><TD COLSPAN="2"><FONT FACE="Verdana, Arial" COLOR="#B25000" SIZE="3"><B>Encoding

</B></FONT></TD></TR><TR><TD>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>
<P><FONT FACE="Verdana, Arial" SIZE="3">The encoding number for this subtable

</FONT></P>
</TD></TR><TR><TD> &nbsp; &nbsp; &nbsp; &nbsp; </TD></TR><TR><TD COLSPAN="2"><FONT FACE="Verdana, Arial" COLOR="#B25000" SIZE="3"><B>Format

</B></FONT></TD></TR><TR><TD>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>
<P><FONT FACE="Verdana, Arial" SIZE="3">Gives the stored format of this subtable

</FONT></P>
</TD></TR><TR><TD> &nbsp; &nbsp; &nbsp; &nbsp; </TD></TR><TR><TD COLSPAN="2"><FONT FACE="Verdana, Arial" COLOR="#B25000" SIZE="3"><B>Ver

</B></FONT></TD></TR><TR><TD>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>
<P><FONT FACE="Verdana, Arial" SIZE="3">Gives the version (or language) information for this subtable

</FONT></P>
</TD></TR><TR><TD> &nbsp; &nbsp; &nbsp; &nbsp; </TD></TR><TR><TD COLSPAN="2"><FONT FACE="Verdana, Arial" COLOR="#B25000" SIZE="3"><B>val

</B></FONT></TD></TR><TR><TD>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>
<P><FONT FACE="Verdana, Arial" SIZE="3">A hash keyed by the codepoint value (not a string) storing the glyph id

</FONT></P>
</TD></TR></TABLE>
<H1><FONT FACE="Verdana, Arial" COLOR="#0050B2">METHODS

</FONT></H1>
<H2><FONT FACE="Verdana, Arial" COLOR="#0050B2">$t->read

</FONT></H2>
<P><FONT FACE="Verdana, Arial" SIZE="3">Reads the cmap into memory. Format 4 subtables read the whole subtable and
fill in the segmented array accordingly.

</FONT></P>
<P><FONT FACE="Verdana, Arial" SIZE="3">Format 2 subtables are not read at all.

</FONT></P>
<H2><FONT FACE="Verdana, Arial" COLOR="#0050B2">$t->ms_lookup($uni)

</FONT></H2>
<P><FONT FACE="Verdana, Arial" SIZE="3">Finds a Unicode table, giving preference to the MS one, and looks up the given
Unicode codepoint in it to find the glyph id.

</FONT></P>
<H2><FONT FACE="Verdana, Arial" COLOR="#0050B2">$t->find_ms

</FONT></H2>
<P><FONT FACE="Verdana, Arial" SIZE="3">Finds the a Unicode table, giving preference to the Microsoft one, and sets the <CODE>mstable</CODE> instance variable
to it if found. Returns the table it finds.

</FONT></P>
<H2><FONT FACE="Verdana, Arial" COLOR="#0050B2">$t->ms_enc

</FONT></H2>
<P><FONT FACE="Verdana, Arial" SIZE="3">Returns the encoding of the microsoft table (0 => symbol, etc.). Returns undef if there is
no Microsoft cmap.

</FONT></P>
<H2><FONT FACE="Verdana, Arial" COLOR="#0050B2">$t->out($fh)

</FONT></H2>
<P><FONT FACE="Verdana, Arial" SIZE="3">Writes out a cmap table to a filehandle. If it has not been read, then
just copies from input file to output

</FONT></P>
<H2><FONT FACE="Verdana, Arial" COLOR="#0050B2">$t->XML_element($context, $depth, $name, $val)

</FONT></H2>
<P><FONT FACE="Verdana, Arial" SIZE="3">Outputs the elements of the cmap in XML. We only need to process val here

</FONT></P>
<H2><FONT FACE="Verdana, Arial" COLOR="#0050B2">@map = $t->reverse([$num])

</FONT></H2>
<P><FONT FACE="Verdana, Arial" SIZE="3">Returns a reverse map of the table of given number or the Unicode
cmap. I.e. given a glyph gives the Unicode value for it.

</FONT></P>
<H2><FONT FACE="Verdana, Arial" COLOR="#0050B2">is_unicode($index)

</FONT></H2>
<P><FONT FACE="Verdana, Arial" SIZE="3">Returns whether the table of a given index is known to be a unicode table
(as specified in the specifications)

</FONT></P>
<H1><FONT FACE="Verdana, Arial" COLOR="#0050B2">BUGS

</FONT></H1>
<TABLE CELLSPACING="0" CELLPADDING="0" BORDER="0"><TR><TD>
</TD></TR><TR><TD> &nbsp; &nbsp; &nbsp; &nbsp; </TD></TR><TR><TD COLSPAN="2"><FONT FACE="Verdana, Arial" COLOR="#B25000" SIZE="3"><B>*

</B></FONT></TD></TR><TR><TD>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>
<P><FONT FACE="Verdana, Arial" SIZE="3">No support for format 2 tables (MBCS)

</FONT></P>
</TD></TR></TABLE>
<H1><FONT FACE="Verdana, Arial" COLOR="#0050B2">AUTHOR

</FONT></H1>
<P><FONT FACE="Verdana, Arial" SIZE="3">Martin Hosken Martin_Hosken@sil.org. See <A HREF="PDF::API2::TTF::Font">PDF::API2::TTF::Font</A> for copyright and
licensing.

</FONT></P>
</BODY>
</HTML>

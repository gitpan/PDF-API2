<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
	<HEAD>
		<TITLE></TITLE>
		<META NAME="Generator" CONTENT="pdf_to_html">
	</HEAD>
<BODY
	BGCOLOR="#FFFFFF"
	TEXT="#000000"
	LINK="#0000FF"
	VLINK="#808000"
	ALINK="#FF00FF"
>
<H1><FONT FACE="Verdana, Arial" COLOR="#0050B2">NAME

</FONT></H1>
<P><FONT FACE="Verdana, Arial" SIZE="3">PDF::API2::TTF::Name - String table for a TTF font

</FONT></P>
<H1><FONT FACE="Verdana, Arial" COLOR="#0050B2">DESCRIPTION

</FONT></H1>
<P><FONT FACE="Verdana, Arial" SIZE="3">Strings are held by number, platform, encoding and language. Strings are
accessed as:

</FONT></P>
<TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0" BORDER="0"><TR><TD BGCOLOR="#DDDDDD"><PRE><FONT SIZE="2">
    $f->{'name'}{'strings'}[$number][$platform_id][$encoding_id]{$language_id}

</FONT></PRE></TD></TR></TABLE>
<P><FONT FACE="Verdana, Arial" SIZE="3">Notice that the language is held in an associative array due to its sparse
nature on some platforms such as Microsoft ($pid = 3). Notice also that the
array order is different from the stored array order (platform, encoding,
language, number) to allow for easy manipulation of strings by number (which is
what I guess most people will want to do).

</FONT></P>
<P><FONT FACE="Verdana, Arial" SIZE="3">By default, <CODE>$PDF::API2::TTF::Name::utf8</CODE> is set to 1, and strings will be stored as UTF8 wherever
possible. The method <CODE>is_utf8</CODE> can be used to find out if a string in a particular
platform and encoding will be returned as UTF8. Unicode strings are always
converted if utf8 is requested. Otherwise, strings are stored according to platform:

</FONT></P>
<TABLE WIDTH="100%" CELLSPACING="0" CELLPADDING="0" BORDER="0"><TR><TD BGCOLOR="#DDDDDD"><PRE><FONT SIZE="2">
    ***WARNING NON-UTF8 is deprecated and utf8 strings has become the default***

</FONT></PRE></TD></TR></TABLE>
<P><FONT FACE="Verdana, Arial" SIZE="3">You now have to set <$PDF::API2::TTF::Name::utf8> to 0 to get the old behaviour.

</FONT></P>
<TABLE CELLSPACING="0" CELLPADDING="0" BORDER="0"><TR><TD>
</TD></TR><TR><TD> &nbsp; &nbsp; &nbsp; &nbsp; </TD></TR><TR><TD COLSPAN="2"><FONT FACE="Verdana, Arial" COLOR="#B25000" SIZE="3"><B>Apple Unicode (platform id = 0)

</B></FONT></TD></TR><TR><TD>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>
<P><FONT FACE="Verdana, Arial" SIZE="3">Data is stored as network ordered UCS2. There is no encoding id for this platform
but there are language ids as per Mac language ids.

</FONT></P>
</TD></TR><TR><TD> &nbsp; &nbsp; &nbsp; &nbsp; </TD></TR><TR><TD COLSPAN="2"><FONT FACE="Verdana, Arial" COLOR="#B25000" SIZE="3"><B>Mac (platform id = 1)

</B></FONT></TD></TR><TR><TD>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>
<P><FONT FACE="Verdana, Arial" SIZE="3">Data is stored as 8-bit binary data, leaving the interpretation to the user
according to encoding id.

</FONT></P>
</TD></TR><TR><TD> &nbsp; &nbsp; &nbsp; &nbsp; </TD></TR><TR><TD COLSPAN="2"><FONT FACE="Verdana, Arial" COLOR="#B25000" SIZE="3"><B>Unicode (platform id = 2)

</B></FONT></TD></TR><TR><TD>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>
<P><FONT FACE="Verdana, Arial" SIZE="3">Currently stored as 16-bit network ordered UCS2. Upon release of Perl 5.005 this
will change to utf8 assuming current UCS2 semantics for all encoding ids.

</FONT></P>
</TD></TR><TR><TD> &nbsp; &nbsp; &nbsp; &nbsp; </TD></TR><TR><TD COLSPAN="2"><FONT FACE="Verdana, Arial" COLOR="#B25000" SIZE="3"><B>Windows (platform id = 3)

</B></FONT></TD></TR><TR><TD>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>
<P><FONT FACE="Verdana, Arial" SIZE="3">As per Unicode, the data is currently stored as 16-bit network ordered UCS2. Upon
release of Perl 5.005 this will change to utf8 assuming current UCS2 semantics for
all encoding ids.

</FONT></P>
</TD></TR></TABLE>
<H1><FONT FACE="Verdana, Arial" COLOR="#0050B2">INSTANCE VARIABLES

</FONT></H1>
<TABLE CELLSPACING="0" CELLPADDING="0" BORDER="0"><TR><TD>
</TD></TR><TR><TD> &nbsp; &nbsp; &nbsp; &nbsp; </TD></TR><TR><TD COLSPAN="2"><FONT FACE="Verdana, Arial" COLOR="#B25000" SIZE="3"><B>strings

</B></FONT></TD></TR><TR><TD>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>
<P><FONT FACE="Verdana, Arial" SIZE="3">An array of arrays, etc.

</FONT></P>
</TD></TR></TABLE>
<H1><FONT FACE="Verdana, Arial" COLOR="#0050B2">METHODS

</FONT></H1>
<H2><FONT FACE="Verdana, Arial" COLOR="#0050B2">$t->read

</FONT></H2>
<P><FONT FACE="Verdana, Arial" SIZE="3">Reads all the names into memory

</FONT></P>
<H2><FONT FACE="Verdana, Arial" COLOR="#0050B2">$t->out($fh)

</FONT></H2>
<P><FONT FACE="Verdana, Arial" SIZE="3">Writes out all the strings

</FONT></P>
<H2><FONT FACE="Verdana, Arial" COLOR="#0050B2">$t->XML_element($context, $depth, $key, $value)

</FONT></H2>
<P><FONT FACE="Verdana, Arial" SIZE="3">Outputs the string element in nice XML (which is all the table really!)

</FONT></P>
<H2><FONT FACE="Verdana, Arial" COLOR="#0050B2">$t->XML_end($context, $tag, %attrs)

</FONT></H2>
<P><FONT FACE="Verdana, Arial" SIZE="3">Store strings in the right place

</FONT></P>
<H2><FONT FACE="Verdana, Arial" COLOR="#0050B2">is_utf8($pid, $eid)

</FONT></H2>
<P><FONT FACE="Verdana, Arial" SIZE="3">Returns whether a string of a given platform and encoding is going to be in UTF8

</FONT></P>
<H2><FONT FACE="Verdana, Arial" COLOR="#0050B2">find_name($nid)

</FONT></H2>
<P><FONT FACE="Verdana, Arial" SIZE="3">Hunts down a name in all the standard places and returns the string and for an
array context the pid, eid & lid as well

</FONT></P>
<H1><FONT FACE="Verdana, Arial" COLOR="#0050B2">BUGS

</FONT></H1>
<TABLE CELLSPACING="0" CELLPADDING="0" BORDER="0"><TR><TD>
</TD></TR><TR><TD> &nbsp; &nbsp; &nbsp; &nbsp; </TD></TR><TR><TD COLSPAN="2"><FONT FACE="Verdana, Arial" COLOR="#B25000" SIZE="3"><B>*

</B></FONT></TD></TR><TR><TD>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD><TD>
<P><FONT FACE="Verdana, Arial" SIZE="3">Unicode type strings will be stored in utf8 for all known platforms,
once Perl 5.6 has been released and I can find all the mapping tables, etc.

</FONT></P>
</TD></TR></TABLE>
<H1><FONT FACE="Verdana, Arial" COLOR="#0050B2">AUTHOR

</FONT></H1>
<P><FONT FACE="Verdana, Arial" SIZE="3">Martin Hosken Martin_Hosken@sil.org. See <A HREF="PDF::API2::TTF::Font">PDF::API2::TTF::Font</A> for copyright and
licensing.

</FONT></P>
</BODY>
</HTML>
